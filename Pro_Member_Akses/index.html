<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>UMT Pro Command Center</title>
    <link rel="icon" type="image/png" href="UMT-Logo - Copy.png">
    <script>
      MathJax = {
        tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] }
      };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600&family=Inter:wght@400;600;700&display=swap');
        :root {
            --bg-main: #0D1117; --bg-panel: #161B22; --border-color: #30363D;
            --text-primary: #C9D1D9; --text-secondary: #8B949E; --accent-cyan: #2F81F7;
            --accent-green: #39D353; --accent-red: #F85149;
        }
        body { background-color: var(--bg-main); color: var(--text-primary); font-family: 'Inter', sans-serif; }
        .font-mono { font-family: 'Fira Code', monospace; }
        .panel { background-color: var(--bg-panel); border: 1px solid var(--border-color); border-radius: 0.75rem; padding: 1.5rem; }
        .bottom-nav-link.active { color: var(--accent-cyan); }
        .sidebar-link.active { background-color: #30363D; color: white; }
        .card-item { background-color: #21262D; transition: transform 0.2s; cursor: pointer; }
        .card-item:hover { transform: translateY(-4px); background-color: #30363D; }
        .quiz-option { border: 2px solid var(--border-color); }
        .quiz-option:hover { border-color: var(--accent-cyan); }
        .quiz-option.selected { border-color: var(--accent-cyan); background-color: rgba(47, 129, 247, 0.2); }
        .correct-answer { background-color: rgba(57, 211, 83, 0.1); border-left: 4px solid var(--accent-green); }
        .wrong-answer { background-color: rgba(248, 81, 73, 0.1); border-left: 4px solid var(--accent-red); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .nav-btn:disabled { background-color: #30363D; color: #8B949E; cursor: not-allowed; }

        @keyframes slideInRight { from { opacity: 0; transform: translateX(100%); } to { opacity: 1; transform: translateX(0); } }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; transform: translateY(-20px); } }
        .toast-in { animation: slideInRight 0.5s forwards; }
        .toast-out { animation: fadeOut 0.5s forwards; }
/* ================================================= */
/* ==  STYLE UNTUK HALAMAN FORUM UMT              == */
/* ================================================= */

.forum-container {
    background-color: var(--bg-panel);
    border: 1px solid var(--border-color);
    border-radius: 0.75rem; /* Sesuai dengan style .panel */
    padding: 2.5rem 2rem;
    max-width: 800px;
    margin: 2rem auto;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

/* Bagian Judul dan Deskripsi Awal */
.intro h1 {
    font-size: 2.25rem; /* 36px */
    font-weight: 700;
    color: var(--accent-cyan);
    margin-bottom: 0.75rem;
}

.intro p {
    color: var(--text-secondary);
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.6;
}

/* Bagian Link Komunitas */
.community-links {
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 1px solid var(--border-color);
}

.community-links h2 {
    font-size: 1.25rem; /* 20px */
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1.5rem;
}

/* Tombol untuk Join Komunitas */
.community-btn {
    text-decoration: none;
    color: white;
    font-weight: bold;
    padding: 0.75rem 1.5rem; /* py-3 px-6 */
    border-radius: 9999px; /* rounded-full */
    display: inline-flex;
    align-items: center;
    gap: 0.75rem; /* gap-3 */
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.community-btn i {
    font-size: 1.25rem;
}

.community-btn:hover {
    transform: translateY(-4px);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);
}

.whatsapp-btn {
    background-color: #25D366; /* Warna resmi WhatsApp */
}
.whatsapp-btn:hover {
    background-color: #1DAA54;
}

.telegram-btn {
    background-color: #229ED9; /* Warna resmi Telegram */
}
.telegram-btn:hover {
    background-color: #1C84B3;
}

/* Teks kecil di bawah tombol */
.community-links .subtext {
    color: var(--text-secondary);
    margin-top: 1.5rem;
    font-size: 0.875rem;
}

/* Penyesuaian untuk layar mobile */
@media (max-width: 768px) {
    .intro h1 {
        font-size: 1.75rem; /* Perkecil judul di mobile */
    }
    .forum-container {
        padding: 2rem 1rem;
        margin: 1rem;
    }
    .community-btn {
        width: 100%; /* Buat tombol memenuhi lebar di mobile */
        justify-content: center;
    }
}

/* Bagian Bank Soal (GANTI BLOK INI) */
@media (max-width: 640px) {
    /* Menghapus gaya lama yang membuat sempit */
    /* #single-explanation-container > div { ... } DIHAPUS */
    
    /* Perbaikan untuk font agar tidak terlalu kecil */
    #single-explanation-container .text-lg {
        font-size: 1.125rem; /* Sedikit lebih besar dari sebelumnya */
    }

    #single-explanation-container .text-sm {
        font-size: 0.95rem;
        line-height: 1.5; /* Tambah jarak antar baris */
    }

    #single-explanation-container .font-bold {
        font-size: 1.125rem;
    }
    
    /* Tata letak tombol navigasi di bawah */
    .quiz-nav-buttons {
        flex-direction: column;
        gap: 0.75rem;
    }

    .quiz-nav-buttons > button {
        width: 100%;
        justify-content: center;
    }
}
 
/* ================================================= */
/* ==  STYLE UNTUK MODAL KONFIRMASI               == */
/* ================================================= */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes scaleIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

.modal-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 1000;
    display: flex;
    justify-content: center;
    align-items: center;
    animation: fadeIn 0.3s ease;
}

.modal-box {
    background-color: var(--bg-panel);
    border: 1px solid var(--border-color);
    border-radius: 0.75rem;
    padding: 1.5rem;
    width: 90%;
    max-width: 450px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    animation: scaleIn 0.3s ease;
}

.modal-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 0.75rem;
}

.modal-content {
    color: var(--text-secondary);
    line-height: 1.6;
    margin-bottom: 1.5rem;
}

.modal-buttons {
    display: flex;
    justify-content: flex-end;
    gap: 0.75rem;
}

.modal-btn {
    padding: 0.5rem 1.25rem;
    border-radius: 0.5rem;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: background-color 0.2s;
}

.modal-btn-confirm {
    background-color: var(--accent-cyan);
    color: white;
}
.modal-btn-confirm:hover { background-color: #2577e3; }

.modal-btn-danger {
    background-color: var(--accent-red);
    color: white;
}
.modal-btn-danger:hover { background-color: #e4433b; }

.modal-btn-cancel {
    background-color: #30363D;
    color: var(--text-primary);
}
.modal-btn-cancel:hover { background-color: #484f58; }

    </style>
</head>
<body class="text-white">

    <div class="flex min-h-screen">
        <aside class="fixed bottom-0 left-0 z-50 w-full h-16 bg-[var(--bg-panel)] border-t border-[var(--border-color)] 
                       md:relative md:w-64 md:h-screen md:flex md:flex-col md:border-t-0 md:border-r md:p-6">
            <h1 class="hidden text-xl font-bold mb-10 text-cyan-400 md:block md:text-2xl">UMT Pro</h1>
            <nav id="sidebar-nav" class="no-scrollbar flex overflow-x-auto h-full md:flex-col md:space-y-4 md:h-auto">
                <div class="flex flex-nowrap items-center justify-start gap-2 px-2 md:flex-col md:items-stretch md:gap-0 md:px-0">
                    <a href="#" class="sidebar-link bottom-nav-link flex-shrink-0 w-20 flex flex-col items-center justify-center p-2 text-center text-gray-400 rounded-lg hover:text-white md:w-full md:flex-row md:justify-start md:gap-4 md:hover:bg-gray-700" onclick="event.preventDefault(); navigateTo('dashboard', this)">
                        <i class="fa-solid fa-chart-pie text-lg md:w-6"></i><span class="text-xs mt-1 md:text-base md:mt-0">Dashboard</span>
                    </a>
                    <a href="#" class="sidebar-link bottom-nav-link flex-shrink-0 w-20 flex flex-col items-center justify-center p-2 text-center text-gray-400 rounded-lg hover:text-white md:w-full md:flex-row md:justify-start md:gap-4 md:hover:bg-gray-700" onclick="event.preventDefault(); navigateTo('materi', this)">
                        <i class="fa-solid fa-book text-lg md:w-6"></i><span class="text-xs mt-1 md:text-base md:mt-0">Materi</span>
                    </a>
                    <a href="#" class="sidebar-link bottom-nav-link flex-shrink-0 w-20 flex flex-col items-center justify-center p-2 text-center text-gray-400 rounded-lg hover:text-white md:w-full md:flex-row md:justify-start md:gap-4 md:hover:bg-gray-700" onclick="event.preventDefault(); navigateTo('bank_soal', this)">
                        <i class="fa-solid fa-list-check text-lg md:w-6"></i><span class="text-xs mt-1 md:text-base md:mt-0">Bank Soal</span>
                    </a>
                    <a href="#" class="sidebar-link bottom-nav-link flex-shrink-0 w-20 flex flex-col items-center justify-center p-2 text-center text-gray-400 rounded-lg hover:text-white md:w-full md:flex-row md:justify-start md:gap-4 md:hover:bg-gray-700" onclick="event.preventDefault(); navigateTo('video', this)">
                        <i class="fa-solid fa-video text-lg md:w-6"></i><span class="text-xs mt-1 md:text-base md:mt-0">Video</span>
                    </a>
                    <a href="#" class="sidebar-link bottom-nav-link flex-shrink-0 w-20 flex flex-col items-center justify-center p-2 text-center text-gray-400 rounded-lg hover:text-white md:w-full md:flex-row md:justify-start md:gap-4 md:hover:bg-gray-700" onclick="event.preventDefault(); navigateTo('forum', this)">
                        <i class="fa-solid fa-comments text-lg md:w-6"></i><span class="text-xs mt-1 md:text-base md:mt-0">Forum</span>
                    </a>
                    <a href="#" class="sidebar-link bottom-nav-link flex-shrink-0 w-20 flex flex-col items-center justify-center p-2 text-center text-gray-400 rounded-lg hover:text-white md:w-full md:flex-row md:justify-start md:gap-4 md:hover:bg-gray-700" onclick="event.preventDefault(); navigateTo('pengaturan', this)">
                        <i class="fa-solid fa-user-gear text-lg md:w-6"></i><span class="text-xs mt-1 md:text-base md:mt-0">Pengaturan</span>
                    </a>
                </div>
            </nav>
            <div class="hidden mt-auto md:block">
                <button onclick="logout()" class="w-full bg-red-800 hover:bg-red-700 text-white py-2 px-3 rounded">
                    <i class="fa-solid fa-right-from-bracket"></i><span class="md:inline"> Logout</span>
                </button>
            </div>
        </aside>

        <main id="app-content" class="flex-1 p-6 space-y-6 pb-20 md:pb-6 overflow-x-hidden"></main>
    </div>

    <div id="toast-container" class="fixed top-5 right-5 z-[100] space-y-3 w-80"></div>
    
    <div id="modal-container" style="display: none;"></div>


<script>
// =================================================================================
// BAGIAN 0: KONFIGURASI DAN DATA MASTER (GLOBAL)
// =================================================================================
const allContentData = {
    materi: [
        { id: 'materi_1', title: 'Materi Aljabar', type: 'Materi' },
        { id: 'materi_2', title: 'Materi Kalkulus', type: 'Materi' }
    ],
    video: [
        { id: 'video_1', title: 'Video Pembahasan Vektor', type: 'Video' }
    ],
    bankSoal: [
        {
        id: 'pas-matematika-1',
        category: "PAS",
        title: 'Latihan Penilaian Akhir Semester (PAS) - Part 1',
        subject: 'Matematika',
        totalQuestions: 40,
        questions: [
            {
                questionText: 'Himpunan penyelesaian dari persamaan x² = 16 adalah:',
                options: ['A. {4, –4}', 'B. {–4, 4}', 'C. {3, –4}', 'D. {–3, 4}', 'E. {3, –3}'],
                correctAnswer: 'A. {4, –4}',
                explanation: 'Untuk mencari nilai x, kita mengakarkan kedua sisi. Akar kuadrat dari sebuah bilangan positif selalu memiliki dua hasil, yaitu positif dan negatif. Akar dari 16 adalah 4 dan -4, karena 4² = 16 dan (–4)² = 16. Jadi, himpunan penyelesaiannya adalah {4, -4}.'
            },
        ]
        },
    {
        id: 'pas-matematika-2',
        category: "PAS",
        title: 'Latihan Penilaian Akhir Semester (PAS) - Part 2',
        subject: 'Matematika',
        totalQuestions: 40,
        questions: [
            {
                questionText: 'Nilai x yang memenuhi persamaan 4x – 1 = 87 adalah:',
                options: ['A. 88', 'B. 84', 'C. 44', 'D. 22', 'E. 21'],
                correctAnswer: 'D. 22',
                explanation: 'Untuk menyelesaikan persamaan linear, isolasi variabel x. Pertama, pindahkan -1 ke sisi kanan menjadi +1, sehingga 4x = 87 + 1, yang menjadi 4x = 88. Terakhir, bagi kedua sisi dengan 4 untuk mendapatkan x = 22.'
            },
            {
                questionText: 'Penyelesaian dari pertidaksamaan 5x + 8 > 83 adalah:',
                options: ['A. x > 15', 'B. x < 15', 'C. x > 70', 'D. x > 75', 'E. x < 375'],
                correctAnswer: 'A. x > 15',
                explanation: 'Pindahkan +8 ke sisi kanan menjadi -8. Maka, 5x > 83 - 8, yang menjadi 5x > 75. Bagi kedua sisi dengan 5, sehingga x > 15.'
            },
            {
                questionText: 'Penyelesaian dari pertidaksamaan 3x – 7 ≤ –12x + 83 adalah:',
                options: ['A. x ≤ 10', 'B. x ≥ 10', 'C. x ≤ 9', 'D. x ≤ 6', 'E. x ≥ 6'],
                correctAnswer: 'D. x ≤ 6',
                explanation: 'Kumpulkan semua suku x di sisi kiri dan konstanta di sisi kanan. Pindahkan -12x ke kiri menjadi +12x, dan -7 ke kanan menjadi +7. Persamaannya menjadi 3x + 12x ≤ 83 + 7, yaitu 15x ≤ 90. Bagi kedua sisi dengan 15, sehingga x ≤ 6.'
            },
            {
                questionText: '<p>Perhatikan gambar berikut!</p><img src="images/soal-4-segitiga.png" alt="Gambar segitiga siku-siku" style="max-width: 250px; display: block; margin: 15px auto; border-radius: 8px;"><p>Jika keliling segitiga di atas adalah 60 cm, maka panjang sisi miringnya adalah ... cm.</p>',
                options: ['A. 7', 'B. 24', 'C. 26', 'D. 35', 'E. 44'],
                correctAnswer: 'C. 26',
                explanation: 'Keliling adalah jumlah semua sisi. 10 + (3x + 3) + (5x - 9) = 60. Gabungkan suku sejenis: 8x + 4 = 60. Pindahkan 4 ke kanan: 8x = 56, sehingga x = 7. Sisi miring adalah 5x - 9. Substitusi x=7: 5(7) - 9 = 35 - 9 = 26 cm.'
            },
            {
                questionText: 'Sebuah tali dipotong menjadi lima bagian membentuk deret aritmetika. Jika panjang tali terpendek adalah 2 cm dan panjang tali semula adalah 100 cm, maka panjang potongan tali yang ketiga adalah ... cm.',
                options: ['A. 9', 'B. 11', 'C. 19', 'D. 20', 'E. 29'],
                correctAnswer: 'D. 20',
                explanation: 'Ini adalah deret aritmetika dengan n=5, suku pertama (a)=2, dan jumlah 5 suku (S₅)=100. Gunakan rumus Sₙ = n/2 (2a + (n-1)b). 100 = 5/2 (2(2) + 4b). 200 = 5(4 + 4b) -> 40 = 4 + 4b -> 36 = 4b -> b = 9. Suku ketiga (U₃) = a + 2b = 2 + 2(9) = 2 + 18 = 20 cm.'
            },
            {
                questionText: 'Nilai x yang memenuhi persamaan |x + 8| ≤ 5 adalah:',
                options: ['A. –13 ≤ x ≤ –3', 'B. –3 ≤ x ≤ –13', 'C. –3 ≤ x ≤ 3', 'D. 3 ≤ x ≤ –3', 'E. –13 ≤ x ≤ 13'],
                correctAnswer: 'A. –13 ≤ x ≤ –3',
                explanation: 'Pertidaksamaan nilai mutlak |A| ≤ c dapat diubah menjadi –c ≤ A ≤ c. Maka, –5 ≤ x + 8 ≤ 5. Kurangi semua bagian dengan 8 untuk mendapatkan x: –5 – 8 ≤ x ≤ 5 – 8, yang menghasilkan –13 ≤ x ≤ –3.'
            },
            {
                questionText: 'Nilai x yang memenuhi persamaan |3x – 10| = 5x – 6 adalah:',
                options: ['A. 2 dan 4', 'B. -2 dan 2', 'C. 2', 'D. -2', 'E. -4'],
                correctAnswer: 'C. 2',
                explanation: 'Uji dua kemungkinan. 1) 3x-10 = 5x-6 -> -4 = 2x -> x = -2. Uji syarat: 5(-2)-6 = -16 (negatif, tidak memenuhi karena hasil mutlak harus non-negatif). 2) 3x-10 = -(5x-6) -> 3x-10 = -5x+6 -> 8x = 16 -> x = 2. Uji syarat: 5(2)-6 = 4 (positif, memenuhi). Jadi, satu-satunya solusi adalah x=2.'
            },
            {
                questionText: 'Salah satu nilai x yang memenuhi pertidaksamaan |2x – 5| > 21 adalah:',
                options: ['A. -8', 'B. 0', 'C. 11', 'D. 13'],
                correctAnswer: 'D. 13',
                explanation: 'Pertidaksamaan |A| > c menjadi A > c atau A < -c. Maka: 1) 2x-5 > 21 -> 2x > 26 -> x > 13. 2) 2x-5 < -21 -> 2x < -16 -> x < -8. Dari pilihan yang ada, 13 memenuhi syarat x > 13.'
            },
            {
                questionText: '<p>Diberikan gambar kurva sebagai berikut.</p><img src="images/soal-9-grafik-mutlak.png" alt="Grafik fungsi nilai mutlak" style="max-width: 250px; display: block; margin: 15px auto; border-radius: 8px;"><p>Persamaan kurva tersebut adalah:</p>',
                options: ['A. y = |2x – 4|', 'B. y = |2x + 4|', 'C. y = |4x + 2|', 'D. y = |4x – 2|', 'E. y = |–2x + 2|'],
                correctAnswer: 'B. y = |2x + 4|',
                explanation: 'Grafik berbentuk "V" adalah grafik nilai mutlak. Titik puncaknya berada di x = -2. Uji titik puncak pada pilihan. Untuk y = |2x + 4|, puncaknya saat 2x+4=0 -> x=-2. Ini cocok. Uji titik lain, misal x=0, y=|2(0)+4|=4. Ini juga cocok dengan grafik. Jadi, persamaannya adalah y = |2x + 4|.'
            },
            {
                questionText: 'Penyelesaian dari sistem persamaan 6x – y = 23 dan 2x + y = 17 adalah:',
                options: ['A. (–5, –7)', 'B. (–5, 7)', 'C. (5, –7)', 'D. (5, 0)', 'E. (5, 7)'],
                correctAnswer: 'E. (5, 7)',
                explanation: 'Gunakan metode eliminasi. Jumlahkan kedua persamaan: (6x - y) + (2x + y) = 23 + 17 -> 8x = 40 -> x = 5. Substitusikan x = 5 ke persamaan kedua: 2(5) + y = 17 -> 10 + y = 17 -> y = 7. Jadi, penyelesaiannya adalah (5, 7).'
            },
            {
                questionText: 'Diberikan sistem persamaan 2x+y+3z=10, 2x+9y+z=8, x–3y+3z=9. Nilai dari x + y + z adalah:',
                options: ['A. -3', 'B. -1', 'C. 1', 'D. 3'],
                correctAnswer: 'D. 3',
                explanation: 'Eliminasi persamaan 1 dan 3: (2x+y+3z) - (x-3y+3z) = 10-9 -> x+4y=1. Eliminasi z dari pers 1 dan 2: kalikan pers 2 dengan 3 -> 6x+27y+3z=24. (6x+27y+3z) - (2x+y+3z) = 24-10 -> 4x+26y=14 -> 2x+13y=7. Sekarang kita punya 2 SPLDV: x+4y=1 dan 2x+13y=7. Kalikan pers pertama dengan 2 -> 2x+8y=2. (2x+13y)-(2x+8y)=7-2 -> 5y=5 -> y=1. Substitusi y=1 -> x+4(1)=1 -> x=-3. Substitusi x dan y ke pers 1 -> 2(-3)+1+3z=10 -> -5+3z=10 -> 3z=15 -> z=5. Maka x+y+z = -3+1+5 = 3.'
            },
            {
                questionText: 'Jumlah usia Afi dan Ifa adalah 16 tahun, selisih usia keduanya adalah 2 tahun. Jika Afi lebih tua dari Ifa, maka usia Afi dan Ifa berturut-turut adalah:',
                options: ['A. 10 tahun dan 6 tahun', 'B. 9 tahun dan 7 tahun', 'C. 7 tahun dan 9 tahun', 'D. 6 tahun dan 10 tahun', 'E. 2 tahun dan 14 tahun'],
                correctAnswer: 'B. 9 tahun dan 7 tahun',
                explanation: 'Misal A = usia Afi, I = usia Ifa. A + I = 16 dan A - I = 2. Gunakan eliminasi dengan menjumlahkan kedua persamaan: 2A = 18 -> A = 9. Substitusikan A=9 ke persamaan pertama: 9 + I = 16 -> I = 7. Usia Afi 9 tahun dan Ifa 7 tahun.'
            },
            {
                questionText: 'Harga 2 buku tulis dan 5 bolpoin adalah Rp50.000. Harga 4 buku tulis dan 3 bolpoin adalah Rp37.000. Jika Bu Kikien membeli 5 buku tulis dan 4 bolpoin, ia harus membayar:',
                options: ['A. Rp2.500,-', 'B. Rp9.000,-', 'C. Rp48.500,-', 'D. Rp57.000,-', 'E. Rp80.500,-'],
                correctAnswer: 'C. Rp48.500,-',
                explanation: 'Misal b=buku, p=bolpoin. 2b+5p=50000 dan 4b+3p=37000. Kalikan pers pertama dengan 2 -> 4b+10p=100000. Eliminasi: (4b+10p)-(4b+3p)=100000-37000 -> 7p=63000 -> p=9000. Substitusi p: 2b+5(9000)=50000 -> 2b=5000 -> b=2500. Maka 5b+4p = 5(2500)+4(9000) = 12500+36000=48500.'
            },
            {
                questionText: 'Nilai x yang memenuhi pertidaksamaan 3x + 75 ≤ 90 adalah:',
                options: ['A. x ≤ 5', 'B. x ≥ 5', 'C. x ≤ 15', 'D. x ≥ 15', 'E. x ≤ 55'],
                correctAnswer: 'A. x ≤ 5',
                explanation: 'Pindahkan 75 ke sisi kanan: 3x ≤ 90 - 75 -> 3x ≤ 15. Bagi kedua sisi dengan 3: x ≤ 5.'
            },
            {
                questionText: 'Jika 6(2x – 3) ≥ 4x + 6, maka pernyataan di bawah ini yang bernilai BENAR adalah:',
                options: ['A. 2x ≥ 3', 'B. 2x ≥ 6', 'C. 2x ≤ 3', 'D. 2x ≤ 6', 'E. 2x = 6'],
                correctAnswer: 'B. 2x ≥ 6',
                explanation: 'Jabarkan sisi kiri: 12x - 18 ≥ 4x + 6. Pindahkan 4x ke kiri dan -18 ke kanan: 12x - 4x ≥ 6 + 18 -> 8x ≥ 24 -> x ≥ 3. Dari pilihan yang ada, jika x ≥ 3, maka 2x pasti ≥ 6. Pernyataan (b) adalah yang paling tepat.'
            },
            {
                questionText: 'Sebuah persegi panjang mempunyai lebar 5 cm kurangnya dari panjang. Jika luasnya tidak lebih dari 500 cm², maka pernyataan yang tepat mengenai kelilingnya adalah:',
                options: ['A. keliling = 90 cm', 'B. keliling ≤ 90 cm', 'C. keliling = 20 cm', 'D. keliling ≥ 20 cm', 'E. keliling ≤ 60 cm'],
                correctAnswer: 'B. keliling ≤ 90 cm',
                explanation: 'Misal panjang=p, lebar=l. l = p-5. Luas = p × l ≤ 500 -> p(p-5) ≤ 500 -> p²-5p-500 ≤ 0. Faktorkan: (p-25)(p+20)≤0. Karena panjang positif, 0<p≤25. Keliling K=2(p+l)=2(p+p-5)=4p-10. Karena p≤25, maka nilai K maksimum adalah 4(25)-10=90. Jadi, keliling ≤ 90 cm.'
            },
            {
                questionText: 'Maka nilai x yang memenuhi 13x² + 23x + 6 ≤ 0 adalah:',
                options: ['A. x ≤ 6', 'B. x ≤ 3', 'C. x ≤ 1', 'D. x ≤ –1', 'E. x ≤ –2'],
                correctAnswer: 'D. x ≤ –1',
                explanation: 'Selesaikan pertidaksamaan kuadrat 13x² + 23x + 6 ≤ 0. Hitung diskriminan: D = 23² - 4(13)(6) = 529 - 312 = 217. Akar-akarnya: x = (-23 ± √217)/(2×13). Karena koefisien x² positif, parabola terbuka ke atas, dan solusi adalah di antara akar-akarnya atau saat fungsi ≤ 0. Faktorkan atau gunakan rumus kuadrat untuk menemukan akar: x ≈ -1.5 dan x ≈ -0.4. Interval solusi: -1.5 ≤ x ≤ -0.4. Dari opsi, jawaban yang mendekati adalah x ≤ -1.'
            },
            {
                questionText: 'Diketahui pertidaksamaan (x-2)/x² ≥ (x+1)/(x+3). Jika p = x + 2, maka nilai p yang memenuhi adalah:',
                options: ['A. -1 ≤ p ≤ 2', 'B. -3 < p < 0', 'C. -1 < p < 2', 'D. -2 < p < 1', 'E. -3 ≤ p ≤ 2'],
                correctAnswer: 'D. -2 < p < 1',
                explanation: 'Selesaikan pertidaksamaan (x-2)/x² ≥ (x+1)/(x+3). Samakan penyebut: ((x-2)(x+3) - x²(x+1))/(x²(x+3)) ≥ 0. Sederhanakan pembilang: x² + x - 6 - x³ - x² = -x³ + x - 6. Jadi, (-x³ + x - 6)/(x²(x+3)) ≥ 0. Analisis tanda menunjukkan solusi -3 < x < -1. Karena p = x + 2, maka -3 + 2 < p < -1 + 2, yaitu -1 < p < 1.'
            },
            {
                questionText: 'Penyelesaian dari pertidaksamaan √(x + 2) + 2√(2x) < 3√2 adalah:',
                options: ['A. x < 8', 'B. 0 ≤ x < 8', 'C. 0 ≤ x < 2√2', 'D. 2√2 < x < 32', 'E. 2√2 < x < 4√2'],
                correctAnswer: 'B. 0 ≤ x < 8',
                explanation: 'Syarat domain: x + 2 ≥ 0 dan 2x ≥ 0, sehingga x ≥ 0. Selesaikan √(x + 2) + 2√(2x) < 3√2. Untuk menyederhanakan, substitusi u = √x, maka x = u², u ≥ 0. Persamaan menjadi √(u² + 2) + 2√(2u²) < 3√2. Kuadratkan dengan hati-hati atau uji numerik menunjukkan solusi 0 ≤ x < 8.'
            },
            {
                questionText: 'Penyelesaian dari pertidaksamaan |x – 4| < 5 adalah:',
                options: ['A. –5 < x < 5', 'B. –1 < x < 5', 'C. –5 < x < 9', 'D. –1 < x < 9', 'E. –5 < x < 1'],
                correctAnswer: 'D. –1 < x < 9',
                explanation: 'Pertidaksamaan |x – 4| < 5 menjadi –5 < x – 4 < 5. Tambahkan 4 ke semua bagian: –5 + 4 < x < 5 + 4, sehingga –1 < x < 9.'
            },
            {
                questionText: 'Diberikan pertidaksamaan |x² – 4| < 5 untuk x bilangan bulat negatif. Himpunan penyelesaian dari pertidaksamaan tersebut adalah:',
                options: ['A. {-5, -4, -3, -2, -1}', 'B. {-5, -4, -3}', 'C. {-3, -2, -1}', 'D. {-4, -3}', 'E. {-2, -1}'],
                correctAnswer: 'E. {-2, -1}',
                explanation: 'Ubah |x² – 4| < 5 menjadi –5 < x² – 4 < 5. Tambah 4: -1 < x² < 9. Maka, x² < 9 atau -3 < x < 3. Untuk x bilangan bulat negatif, himpunan penyelesaian adalah {-2, -1}.'
            },
            {
                questionText: 'Salah satu pasangan terurut (x, y) yang memenuhi pertidaksamaan x + y ≤ 4 adalah:',
                options: ['A. (1, 2)', 'B. (2, 3)', 'C. (3, 4)', 'D. (4, 5)', 'E. (5, 1)'],
                correctAnswer: 'A. (1, 2)',
                explanation: 'Uji setiap pilihan: (a) 1+2=3 ≤ 4 (Benar). (b) 2+3=5 > 4 (Salah). (c) 3+4=7 > 4 (Salah). (d) 4+5=9 > 4 (Salah). (e) 5+1=6 > 4 (Salah). Jadi, (1, 2) memenuhi.'
            },
            {
                questionText: 'Nilai maksimum dari 2x + 4y pada sistem pertidaksamaan 2x + y ≤ 8 dan 2x + 3y ≤ 12 adalah:',
                options: ['A. 8', 'B. 14', 'C. 16', 'D. 20', 'E. 24'],
                correctAnswer: 'C. 16',
                explanation: 'Cari titik potong: (2x+3y)-(2x+y)=12-8 -> 2y=4 -> y=2. Substitusi y=2 ke 2x+y=8 -> 2x+2=8 -> x=3. Titik potong (3,2). Titik lain: (4,0), (0,4). Uji fungsi tujuan 2x+4y: (3,2) -> 2(3)+4(2)=14; (4,0) -> 2(4)+4(0)=8; (0,4) -> 2(0)+4(4)=16. Nilai maksimum adalah 16.'
            },
            {
                questionText: 'Akar dari x² + 2x – 15 = 0 adalah:',
                options: ['A. -3 dan -5', 'B. -3 dan 5', 'C. 3 dan 0', 'D. 3 dan -5', 'E. 3 dan 5'],
                correctAnswer: 'D. 3 dan -5',
                explanation: 'Faktorkan: Cari bilangan yang jika dikalikan hasilnya -15 dan dijumlahkan hasilnya +2. Bilangan tersebut adalah +5 dan -3. Persamaan: (x + 5)(x – 3) = 0. Akar: x = -5 atau x = 3.'
            },
            {
                questionText: 'Jika 4x² + 4x + c = 0 mempunyai akar kembar, maka 500c² + 700c – 1200 = ...',
                options: ['A. 0', 'B. 1', 'C. -1200', 'D. 2200', 'E. -1400'],
                correctAnswer: 'A. 0',
                explanation: 'Syarat akar kembar: D = b² – 4ac = 0. Dari persamaan, a=4, b=4, c=c. Maka, (4)² – 4(4)(c) = 0 -> 16 – 16c = 0 -> c = 1. Substitusi c=1: 500(1)² + 700(1) – 1200 = 500 + 700 – 1200 = 0.'
            },
            {
                questionText: 'Jika α dan β adalah akar-akar dari persamaan 3x² – 9x – 30 = 0, maka nilai 1/α + 1/β adalah:',
                options: ['A. -2 9/10', 'B. -3/10', 'C. 2 1/10', 'D. 3', 'E. 10'],
                correctAnswer: 'B. -3/10',
                explanation: '1/α + 1/β = (α + β)/(αβ). Jumlah akar: α + β = -b/a = -(-9)/3 = 3. Hasil kali: αβ = c/a = -30/3 = -10. Maka, (α + β)/(αβ) = 3 / (-10) = -3/10.'
            },
            {
                questionText: 'Persamaan kuadrat x² + 2x – 15 = 0 memiliki akar p dan q. Maka nilai p + q adalah:',
                options: ['A. -15', 'B. 15', 'C. -2', 'D. 2', 'E. 1'],
                correctAnswer: 'C. -2',
                explanation: 'Jumlah akar p + q = -b/a. Dari persamaan, a=1, b=2, c=-15. Maka, p + q = -2/1 = -2.'
            },
            {
                questionText: 'Diketahui persamaan kuadrat (m + 1)x² – mx – (m – 1) = 0 mempunyai dua akar negatif berlainan p dan q, maka interval m yang memenuhi adalah:',
                options: ['A. m > 0', 'B. m < 1', 'C. -1 < m < 1', 'D. 0 < m < 1', 'E. -1 < m < 0'],
                correctAnswer: 'E. -1 < m < 0',
                explanation: 'Syarat: 1) Akar berlainan: D > 0. 2) Akar negatif: p+q < 0 dan p*q > 0. p+q = m/(m+1) < 0 -> m < 0. p*q = -(m-1)/(m+1) > 0 -> m < 1. D = m² + 4(m+1)(m-1) = 5m² - 2m - 4 > 0. Analisis garis bilangan: -1 < m < 0.'
            },
            {
                questionText: 'Jika persamaan kuadrat mx² – 15x + 6 = 0 mempunyai akar riil yang saling berkebalikan, maka nilai m yang memenuhi adalah:',
                options: ['A. -6', 'B. -1/6', 'C. 1', 'D. 1/6', 'E. 6'],
                correctAnswer: 'E. 6',
                explanation: 'Syarat akar berkebalikan: x₁ * x₂ = 1. Hasil kali akar: c/a = 6/m = 1 -> m = 6.'
            },
            {
                questionText: 'Jika diketahui x₁ + x₂ = 12 dan x₁² + x₂² = 4, maka persamaan kuadratnya adalah:',
                options: ['A. x² – 12x – 70 = 0', 'B. x² – 12x + 70 = 0', 'C. x² – 12x – 4 = 0', 'D. x² – 12x + 4 = 0', 'E. x² – 12x + 48 = 0'],
                correctAnswer: 'B. x² – 12x + 70 = 0',
                explanation: 'Gunakan identitas: (x₁ + x₂)² = x₁² + x₂² + 2x₁x₂. 12² = 4 + 2x₁x₂ -> 144 = 4 + 2x₁x₂ -> x₁x₂ = 70. Persamaan kuadrat: x² - (x₁ + x₂)x + x₁x₂ = 0 -> x² – 12x + 70 = 0.'
            },
            {
                questionText: 'Yang merupakan fungsi kuadrat adalah:',
                options: ['A. f(x) = x² – 2x³ + 3', 'B. f(x) = 2x³ – x + 5', 'C. f(x) = 5x² + 2x – 9', 'D. f(x) = 2x – 10', 'E. f(x) = 6 – 3x'],
                correctAnswer: 'C. f(x) = 5x² + 2x – 9',
                explanation: 'Fungsi kuadrat memiliki pangkat tertinggi 2. Pilihan (c) adalah 5x² + 2x – 9, yang merupakan polinomial derajat 2.'
            },
            {
                questionText: 'Diketahui fungsi kuadrat f(x) = 3x² + 7x – c. Jika nilai diskriminan dari f(x) adalah 121, maka nilai c adalah:',
                options: ['A. -6', 'B. 6', 'C. -9', 'D. 9', 'E. 0'],
                correctAnswer: 'B. 6',
                explanation: 'Diskriminan D = b² – 4ac = 121. Dari f(x), a=3, b=7, c=-c. Maka, 121 = 7² – 4(3)(-c) = 49 + 12c -> 121 – 49 = 12c -> 72 = 12c -> c = 6.'
            },
            {
                questionText: 'Berdasarkan fungsi kuadrat f(x) = –5 – 13x + 6x², maka pernyataan yang benar adalah:',
                options: ['A. a = –5, b = –13, c = 6', 'B. a = –5, b = 13, c = 6', 'C. a = –6, b = –13, c = –5', 'D. a = 6, b = –13, c = –5', 'E. a = 6, b = 13, c = 5'],
                correctAnswer: 'D. a = 6, b = –13, c = –5',
                explanation: 'Susun ulang: f(x) = 6x² – 13x – 5. Bentuk umum ax² + bx + c memberikan a = 6, b = -13, c = -5.'
            },
            {
                questionText: '<p>Diketahui rumus ketinggian adalah h(t) = –3t² + ct – d. Jika grafik memotong sumbu x di titik (1, 0) dan (3, 0), maka hₘₐₓ dari grafik tersebut adalah:</p><img src="images/soal-34-grafik-parabola.png" alt="Grafik fungsi kuadrat parabola" style="max-width: 300px; display: block; margin: 15px auto; border-radius: 8px;">',
                options: ['A. 0', 'B. 3', 'C. -3'],
                correctAnswer: 'B. 3',
                explanation: 'Sumbu simetri: t = (1+3)/2 = 2. Substitusi (1,0): -3(1)² + c(1) – d = 0 -> c – d = 3. Substitusi (3,0): -3(3)² + c(3) – d = 0 -> 3c – d = 27. Eliminasi: (3c – d) – (c – d) = 27 – 3 -> 2c = 24 -> c = 12. Maka d = c – 3 = 9. Fungsi: h(t) = -3t² + 12t – 9. hₘₐₓ saat t=2: h(2) = -3(2)² + 12(2) – 9 = 3.'
            },
            {
                questionText: 'Fungsi kuadrat dari grafik di atas adalah:',
                options: ['A. ½x² – 1/8x – 1', 'B. ½x² – 2x – 16', 'C. –x² + 4x + 32', 'D. –½x² + 2x + 16', 'E. –½x² + 1/8x + 1'],
                correctAnswer: 'D. –½x² + 2x + 16',
                explanation: 'Grafik memiliki puncak di (2,18) dan memotong sumbu x di -4 dan 8. Sumbu simetri: x = (-4+8)/2 = 2. Uji pilihan (d): f(x) = -½x² + 2x + 16. Sumbu simetri: x = -b/(2a) = -2/(2(-½)) = 2. Puncak: f(2) = -½(2)² + 2(2) + 16 = 18. Cocok.'
            },
            {
                questionText: 'Jika garis y = 2x menyinggung parabola y = x² + ax + b di (2, 4), a dan b konstanta. Maka 2a – b adalah:',
                options: ['A. -8', 'B. -4', 'C. 0', 'D. 4', 'E. 8'],
                correctAnswer: 'A. -8',
                explanation: 'Titik (2,4) ada di parabola: 4 = 2² + a(2) + b -> 2a + b = 0. Gradien garis singgung: y = 2x + a. Di x=2, gradien = 2 -> 2(2) + a = 2 -> a = -2. Substitusi a=-2 ke 2a + b = 0 -> b = 4. Maka, 2a – b = 2(-2) – 4 = -8.'
            },
            {
                questionText: 'Salah satu penyelesaian dari sistem persamaan y = x² + 5x – 2 dan y = 3x + 6 adalah:',
                options: ['A. (–4, –6)', 'B. (–4, 6)', 'C. (4, –6)', 'D. (–2, 12)', 'E. (2, –12)'],
                correctAnswer: 'A. (–4, –6)',
                explanation: 'Samakan: x² + 5x – 2 = 3x + 6 -> x² + 2x – 8 = 0. Faktorkan: (x + 4)(x – 2) = 0 -> x = -4 atau x = 2. Untuk x = -4, y = 3(-4) + 6 = -6. Untuk x = 2, y = 3(2) + 6 = 12. Pilihan (a) benar: (-4, -6).'
            },
            {
                questionText: '<p>Perhatikan gambar berikut!</p><img src="images/soal-39-daerah-arsir.png" alt="Daerah arsir antara parabola dan garis" style="max-width: 300px; display: block; margin: 15px auto; border-radius: 8px;"><p>Diketahui parabola y = x² – 8x dan garis y = x – 2 seperti pada gambar di atas. Sistem pertidaksamaan dari daerah yang diwarnai adalah:</p>',
                options: ['A. y ≤ x² – 8x, y ≤ x – 2, dan y ≥ 0', 'B. y ≤ x² – 8x, y ≤ x – 2, dan y ≥ 0', 'C. y ≤ x² – 8x, y ≥ x – 2, dan y ≤ 0', 'D. y ≥ x² – 8x, y ≤ x – 2, dan y ≥ 0', 'E. y ≥ x² – 8x, y ≥ x – 2, dan y ≥ 0'],
                correctAnswer: 'D. y ≥ x² – 8x, y ≤ x – 2, dan y ≥ 0',
                explanation: 'Daerah arsir di atas parabola: y ≥ x² – 8x. Di bawah garis: y ≤ x – 2. Di atas sumbu x: y ≥ 0. Kombinasi yang tepat adalah (d).'
            },
            {
                questionText: 'Diketahui luas sebuah persegi panjang (dalam cm²) adalah 2 kali panjang dikurangi 8 dan lebarnya adalah panjang dikurangi dengan 7. Jika satuan panjang dan lebarnya dalam cm, maka luasnya adalah ... cm².',
                options: ['A. 1', 'B. 8', 'C. 9', 'D. 16', 'E. 24'],
                correctAnswer: 'B. 8',
                explanation: 'Misal p=panjang, l=lebar, L=luas. Diketahui L = 2p – 8, l = p – 7, dan L = p × l. Substitusi: 2p – 8 = p(p – 7) -> p² – 9p + 8 = 0. Faktorkan: (p – 1)(p – 8) = 0 -> p = 1 atau p = 8. Jika p = 1, l = 1 – 7 = -6 (tidak mungkin). Jika p = 8, l = 8 – 7 = 1. Luas: L = p × l = 8 × 1 = 8 cm².'
            }
        ]
    },
// TKA Matematika IPA
    {
        id: "tka-matematika-ipa-1",
        title: "TKA Matematika IPA 1",
        category: "TKA Matematika IPA",
        description: "Kumpulan soal TKA Matematika IPA untuk jenjang SMA/MA.",
        subject: "Matematika",
        totalQuestions: 15,
        questions: [
            {
                questionText: "Diketahui persegi dengan panjang sisi $s$ dan setengah lingkaran dengan diameter pada alas seperti pada gambar. <img src=\"rg-1.png\" alt=\"Daerah arsir antara parabola dan garis\" style=\"max-width: 300px; display: block; margin: 15px auto; border-radius: 8px;\"> Garis $AC$ menyinggung lingkaran di titik $T$. Panjang $AC$ adalah :",
                options: ["A. $\\sqrt{2}$", "B. $2$", "C. $\\sqrt{5}$", "D. $2\\sqrt{2}$", "E. $3$"],
                correctAnswer: "B. $2$",
                explanation: "Misalkan persegi sisi $s = 2$. Setengah lingkaran diameter $AB = 2$, jari-jari $r = 1$, pusat $(1, 0)$. Garis $AC$ dari $A(0,0)$ ke $C(2,2)$, kemiringan 1. Persamaan $y = x$, jarak ke pusat $\\frac{|1-0|}{\\sqrt{2}} = \\frac{1}{\\sqrt{2}}$. Panjang $AC = \\sqrt{(2-0)^2 + (2-0)^2} = 2$ (opsi B)."
            },
        ]
    },
// HOTS
    {
        id: "hots-relasi-fungsi",
        title: "HOTS - Relasi dan Fungsi",
        "category": "HOTS",
        description: "Uji pemahaman tingkat lanjut mengenai konsep relasi, fungsi, domain, range, dan komposisi.",
        subject: "Matematika",
        totalQuestions: 10,
        questions: [
            {
                questionText: "Diketahui relasi $R$ pada himpunan $A = \\{1, 2, 3, 4\\}$ didefinisikan oleh $a R b$ jika $a \\equiv b \\pmod{2}$. Manakah pernyataan berikut yang benar?",
                options: [
                    "A. $R$ adalah relasi asimetris",
                    "B. $R$ hanya simetris",
                    "C. $R$ adalah relasi ekuivalensi",
                    "D. $R$ tidak memenuhi sifat apapun"
                ],
                correctAnswer: "C. $R$ adalah relasi ekuivalensi",
                explanation: "Relasi $a \\equiv b \\pmod{2}$ berarti $a$ dan $b$ memiliki paritas sama (genap atau ganjil). Cek sifat: 1) **Refleksif**: $a \\equiv a \\pmod{2}$, benar. 2) **Simetris**: jika $a \\equiv b$, maka $b \\equiv a$, benar. 3) **Transitif**: jika $a \\equiv b$ dan $b \\equiv c$, maka $a \\equiv c$, benar. Karena memenuhi ketiga sifat, $R$ adalah relasi ekuivalensi. Jawaban: C."
            },
        ]
    },
// MOTS 
    {
        "id": "mots-akar-pangkat",
        "title": "MOTS Akar Pangkat 2",
        "category": "MOTS",
        "description": "Kumpulan soal MOTS untuk memperdalam pemahaman materi akar pangkat kelas 10 semester ganjil.",
        "subject": "Matematika",
        "totalQuestions": 10,
        "questions": [
            {
                "questionText": "Bentuk sederhana dari $\\dfrac{\\sqrt{75}}{\\sqrt{3}}$ adalah:",
                "options": [
                    "A. $5$",
                    "B. $5\\sqrt{3}$",
                    "C. $25$",
                    "D. $15$"
                ],
                "correctAnswer": "A. $5$",
                "explanation": "Sederhanakan: $\\dfrac{\\sqrt{75}}{\\sqrt{3}} = \\sqrt{\\dfrac{75}{3}} = \\sqrt{25} = 5$. Pilihan A sesuai."
            },
        ]
    },
// LOTS 
    {
        "id": "lots-akar-pangkat",
        "title": "LOTS Akar Pangkat",
        "category": "LOTS",
        "description": "Kumpulan soal LOTS untuk memperdalam pemahaman materi akar pangkat kelas 10 semester ganjil.",
        "subject": "Matematika",
        "totalQuestions": 10,
        "questions": [
            {
                "questionText": "Hasil dari $\\sqrt{64}$ adalah:",
                "options": [
                    "A. $6$",
                    "B. $7$",
                    "C. $8$",
                    "D. $9$"
                ],
                "correctAnswer": "C. $8$",
                "explanation": "$\\sqrt{64} = 8$ karena $8^2 = 64$. Pilihan C sesuai."
            },
        ]
    },
    ]
};

const socialMediaUpdates = [
    // { platform: 'YouTube', icon: 'fa-brands fa-youtube', color: 'text-red-500', text: 'Video baru: Pembahasan TPA Kuantitatif', link: 'https://youtube.com' },
    // { platform: 'TikTok', icon: 'fa-brands fa-tiktok', color: 'text-white', text: 'Tips & Trik: 3 Detik Jawab Soal Silogisme', link: 'https://tiktok.com' },
    { platform: 'UMTacademy', icon: 'UMT-Logo - Copy.png', color: 'text-pink-500', text: 'Pembaruan Kebijakan Keamanan Sistem Perangkat Terdaftar untuk Akun Pro', link: 'https://umt6174.site/News/Pembaruan%20Kebijakan%20Keamanan%20Sistem%20Perangkat%20Terdaftar%20untuk%20Akun%20Pro/' },
    { platform: 'Instagram', icon: 'fa-brands fa-instagram', color: 'text-pink-500', text: 'Perbandingan Berbalik Nilai', link: 'https://www.instagram.com/p/DMFA_LsTk0a/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA==' },
    { platform: 'Instagram', icon: 'fa-brands fa-instagram', color: 'text-pink-500', text: 'Logika Di balik Simbol Matematika', link: 'https://www.instagram.com/p/DK89gPYBHsy/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA==' },
];


// =================================================================================
// BAGIAN 1: LOGIKA SESI & KEAMANAN
// =================================================================================
    const WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbyP3jpWgs6ikQcA-9MsInRZYbLFQsshjxgo22twwXrzpACSPV9BREogrKUd-60crXV_mg/exec';
    const LOGIN_PAGE_URL = '../Login/';

    let heartbeatIntervalId = null;
    
    async function verifySession(token, email) {
        try {
            const response = await fetch(WEB_APP_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'text/plain;charset=utf-8' },
                body: JSON.stringify({ action: 'check_session', token: token, email: email })
            });
            const result = await response.json();
            if (!result.isValid) {
                forceLogout("Sesi Anda tidak valid atau telah berakhir. Silakan login kembali.");
            }
        } catch (error) {
            console.error("Heartbeat check failed:", error);
        }
    }

    function startSessionHeartbeat(token, email) {
        if (heartbeatIntervalId) clearInterval(heartbeatIntervalId);
        verifySession(token, email);
        heartbeatIntervalId = setInterval(() => verifySession(token, email), 60000);
    }

    function forceLogout(message) {
        if (heartbeatIntervalId) {
            clearInterval(heartbeatIntervalId);
            heartbeatIntervalId = null;
        }

        const onConfirmAction = () => {
            sessionStorage.removeItem('sessionToken');
            sessionStorage.removeItem('sessionEmail');
            window.location.href = LOGIN_PAGE_URL;
        };

        showConfirmationModal({
            title: 'Sesi Berakhir',
            message: message,
            confirmText: 'OK',
            confirmAction: onConfirmAction,
            showCancelButton: false
        });
    }

    function logout() {
        showConfirmationModal({
            title: 'Konfirmasi Logout',
            message: 'Apakah Anda yakin ingin keluar dari sesi Anda?',
            confirmText: 'Logout',
            confirmButtonClass: 'modal-btn-danger',
            confirmAction: () => {
                sessionStorage.removeItem('sessionToken');
                sessionStorage.removeItem('sessionEmail');
                if (heartbeatIntervalId) {
                    clearInterval(heartbeatIntervalId);
                    heartbeatIntervalId = null;
                }
                window.location.href = LOGIN_PAGE_URL;
            }
        });
    }

    (function initializePage() {
        const token = sessionStorage.getItem('sessionToken');
        const email = sessionStorage.getItem('sessionEmail');

        if (!token || !email) {
            window.location.href = LOGIN_PAGE_URL;
            return;
        }
        
        const userGreetingElement = document.getElementById('user-greeting');
        if (userGreetingElement) {
            const namePart = email.split('@')[0];
            const displayName = namePart.charAt(0).toUpperCase() + namePart.slice(1);
            userGreetingElement.textContent = displayName;
        }
        
        startSessionHeartbeat(token, email);
    })();


// =================================================================================
// BAGIAN 2: LOGIKA APLIKASI UTAMA (NAVIGASI & RENDER GLOBAL)
// =================================================================================
const appContent = document.getElementById('app-content');

function navigateTo(page, clickedElement) {
    document.querySelectorAll('.sidebar-link, .bottom-nav-link').forEach(link => link.classList.remove('active'));
    if (clickedElement) clickedElement.classList.add('active');

    if (page === 'dashboard') {
        renderDashboardPage();
    } else {
        fetchAndRenderPage(page);
    }
}

async function fetchAndRenderPage(pageName) {
    appContent.innerHTML = `<p class="text-center text-gray-400">Memuat...</p>`;
    try {
        const response = await fetch(`halaman/${pageName}.html`);
        if (!response.ok) throw new Error(`Halaman tidak ditemukan`);
        const html = await response.text();
        appContent.innerHTML = html;
        
        if(pageName === 'bank_soal') renderBankSoalPage();
        if(pageName === 'materi') renderMateriPage();
        if(pageName === 'video') renderVideoPage();
        if(pageName === 'pengaturan') renderPengaturanPage();
        if(pageName === 'forum') renderForumPage();
    } catch (error) {
        console.error(`Error memuat halaman '${pageName}':`, error);
        appContent.innerHTML = `<p class="text-center text-red-500">Gagal memuat konten.</p>`;
    }
}

// =================================================================================
// BAGIAN 3: FUNGSI RENDER UNTUK SETIAP HALAMAN
// =================================================================================
function renderDashboardPage() {
    appContent.innerHTML = `
        <header class="panel flex justify-between items-center">
            <div>
                <h2 id="user-greeting" class="text-xl font-bold"></h2>
                <p class="text-sm text-gray-400">Selamat datang di Command Center Anda.</p>
            </div>
        </header>
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <div class="col-span-1 lg:col-span-2 space-y-6">
                <div class="panel">
                    <h4 class="font-bold text-lg mb-4">Status Anda</h4>
                    <div id="status-container" class="space-y-4"></div>
                </div>
                <div id="last-score-widget-container"></div>
            </div>
            <div class="col-span-1 space-y-6">
                <div class="panel">
                    <h4 class="font-bold text-lg mb-4">Pencapaian</h4>
                    <div id="lencana-container" class="flex gap-4"></div>
                </div>
                 <div class="panel">
                    <h4 class="font-bold text-lg mb-4">Info Terbaru UMT</h4>
                    <div id="social-media-container" class="space-y-4"></div>
                </div>
            </div>
        </div>
    `;
    initializeAppDashboardWidgets();
}

function renderMateriPage() {
    const materiHTML = `
        <div class="panel">
            <h2 class="text-2xl font-bold text-cyan-400">Materi Belajar</h2>
            <p class="text-sm text-gray-400 mb-6">Pilih materi untuk mulai belajar.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                ${allContentData.materi.map(item => `
                    <div class="card-item p-6 rounded-lg flex flex-col" onclick="markAsCompleted('${item.id}')">
                         <h3 class="font-bold text-lg mb-2">${item.title}</h3>
                         <p class="text-sm text-gray-400 mb-4">${item.type}</p>
                    </div>
                `).join('')}
            </div>
        </div>`;
    appContent.innerHTML = materiHTML;
}

function renderVideoPage() {
    const videoHTML = `
        <div class="panel">
            <h2 class="text-2xl font-bold text-cyan-400">Video Pembelajaran</h2>
            <p class="text-sm text-gray-400 mb-6">Tonton video pilihan untuk pemahaman lebih dalam.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                ${allContentData.video.map(item => `
                    <div class="card-item p-6 rounded-lg flex flex-col" onclick="markAsCompleted('${item.id}')">
                         <h3 class="font-bold text-lg mb-2">${item.title}</h3>
                         <p class="text-sm text-gray-400 mb-4">${item.type}</p>
                    </div>
                `).join('')}
            </div>
        </div>`;
    appContent.innerHTML = videoHTML;
}

function renderBankSoalPage() {
    const groupedQuizzes = allContentData.bankSoal.reduce((acc, quiz) => {
        const category = quiz.category || 'Lainnya';
        if (!acc[category]) {
            acc[category] = [];
        }
        acc[category].push(quiz);
        return acc;
    }, {});

    const categoriesHTML = Object.keys(groupedQuizzes).map(category => {
        const quizzes = groupedQuizzes[category];
        const cardsHTML = quizzes.map(quiz => `
            <div class="card-item p-6 rounded-lg flex flex-col flex-shrink-0 w-72 md:w-80" onclick="startQuiz('${quiz.id}')">
                <h3 class="font-bold text-lg mb-2">${quiz.title}</h3>
                <p class="text-sm text-gray-400 mb-4">${quiz.subject}</p>
                <div class="mt-auto text-xs font-mono bg-gray-900/50 text-cyan-300 rounded-full px-3 py-1 self-start">
                    ${quiz.totalQuestions} Soal
                </div>
            </div>
        `).join('');

        return `
            <div class="mb-8">
                <h3 class="text-xl font-bold mb-4 text-cyan-300">${category}</h3>
                <div class="no-scrollbar flex overflow-x-auto gap-4 pb-4">
                    ${cardsHTML}
                </div>
            </div>
        `;
    }).join('');

    const bankSoalHTML = `
        <div class="panel">
            <h2 class="text-2xl font-bold mb-1 text-cyan-400">Bank Soal</h2>
            <p class="text-sm text-gray-400 mb-6">Pilih paket soal untuk mulai berlatih.</p>
            <div>
                ${categoriesHTML}
            </div>
        </div>
    `;
    appContent.innerHTML = bankSoalHTML;
}

function renderForumPage() {
    const forumHTML = `<div class="forum-container"><div class="intro"><h1>Forum Belajar UMT</h1><p>Bergabunglah dengan komunitas eksklusif UMT Academy! Tempat terbaik untuk berdiskusi, bertanya, berbagi ilmu, dan menguasai matematika bersama sesama pelajar dan fasilitator.</p></div><div class="community-links"><h2>Pilih Komunitas Pilihanmu Sekarang!</h2><div class="flex justify-center gap-4 flex-wrap"><a href="https://chat.whatsapp.com/GpyKRFFjMINBcjqGEYSXQ6" target="_blank" class="community-btn whatsapp-btn"><i class="fab fa-whatsapp"></i><span>Komunitas WhatsApp</span></a><a href="https://t.me/umt6174" target="_blank" class="community-btn telegram-btn"><i class="fab fa-telegram"></i><span>Komunitas Telegram</span></a></div><p class="subtext">Bergabunglah dengan ribuan pelajar lainnya!</p></div></div>`;
    appContent.innerHTML = forumHTML;
}

// MODIFIKASI: Menambahkan bagian Logout di halaman Pengaturan
function renderPengaturanPage() {
    const pengaturanHTML = `
    <div class="panel max-w-2xl mx-auto">
        <h2 class="text-2xl font-bold mb-1 text-cyan-400">Pengaturan</h2>
        <p class="text-sm text-gray-400 mb-6">Kelola data aplikasi dan akun Anda di sini.</p>

        <div class="bg-gray-900/50 p-4 rounded-lg">
            <div class="flex items-center justify-between flex-wrap gap-3">
                <div>
                    <h4 class="font-bold">Reset Progres Belajar</h4>
                    <p class="text-xs text-gray-400 mt-1">Aksi ini akan menghapus semua progres dan lencana Anda.</p>
                </div>
                <button onclick="resetProgress()" class="bg-red-800 hover:bg-red-700 text-white text-sm font-bold py-2 px-4 rounded-lg flex-shrink-0">Reset Data</button>
            </div>
        </div>

        <div class="mt-4 bg-gray-900/50 p-4 rounded-lg">
            <div class="flex items-center justify-between flex-wrap gap-3">
                <div>
                    <h4 class="font-bold">Akun</h4>
                    <p class="text-xs text-gray-400 mt-1">Keluar dari akun Anda pada perangkat ini.</p>
                </div>
                <button onclick="logout()" class="w-full sm:w-auto bg-red-800 hover:bg-red-700 text-white text-sm font-bold py-2 px-4 rounded-lg flex-shrink-0">
                    <i class="fa-solid fa-right-from-bracket"></i> Logout
                </button>
            </div>
        </div>
    </div>`;
    appContent.innerHTML = pengaturanHTML;
}


// =================================================================================
// BAGIAN 4: LOGIKA WIDGET DASBOR & PROGRES
// =================================================================================
function initializeAppDashboardWidgets() {
    const email = sessionStorage.getItem('sessionEmail') || 'pengguna@email.com';
    const namePart = email.split('@')[0];
    document.getElementById('user-greeting').innerHTML = `Halo, ${namePart.charAt(0).toUpperCase() + namePart.slice(1)} 👋`;
    
    const COMPLETED_KEY = 'userCompletedItems';
    const completedItems = JSON.parse(localStorage.getItem(COMPLETED_KEY)) || [];
    const totalItems = allContentData.materi.length + allContentData.video.length + allContentData.bankSoal.length;
    const progress = totalItems > 0 ? Math.round((completedItems.length / totalItems) * 100) : 0;
    
    document.getElementById('status-container').innerHTML = `<div><span class="text-sm">📚 Progress Keseluruhan (${completedItems.length}/${totalItems})</span><div class="w-full bg-gray-700 rounded-full h-2.5 mt-1"><div class="bg-cyan-500 h-2.5 rounded-full transition-all duration-500" style="width: ${progress}%"></div></div></div>`;
    
    let lencanaHTML = '';
    if (completedItems.length >= 1) lencanaHTML += `<div title="Langkah Pertama"><i class="fa-solid fa-shoe-prints text-cyan-400 text-2xl"></i></div>`;
    if (progress >= 50) lencanaHTML += `<div title="Setengah Jalan!"><i class="fa-solid fa-road-circle-check text-green-400 text-2xl"></i></div>`;
    if (progress === 100) lencanaHTML += `<div title="100% Selesai!"><i class="fa-solid fa-trophy text-amber-400 text-2xl"></i></div>`;
    document.getElementById('lencana-container').innerHTML = lencanaHTML || `<p class="text-sm text-gray-500">Selesaikan materi untuk dapat lencana!</p>`;

    const socialContainer = document.getElementById('social-media-container');
    socialContainer.innerHTML = socialMediaUpdates.map(item => `
        <a href="${item.link}" target="_blank" class="flex items-start gap-3 p-2 rounded-lg hover:bg-gray-800">
            <i class="${item.icon} ${item.color} text-xl w-6 text-center"></i>
            <span class="text-sm text-gray-300">${item.text}</span>
        </a>
    `).join('');

    const lastScoreContainer = document.getElementById('last-score-widget-container');
    const lastScoreData = JSON.parse(localStorage.getItem('lastQuizScore'));
    if (lastScoreData) {
        lastScoreContainer.innerHTML = `
            <div class="panel">
                <h4 class="font-bold text-lg mb-4">Skor Kuis Terakhir</h4>
                <div class="text-center">
                    <p class="text-sm text-gray-400">${lastScoreData.title}</p>
                    <p class="text-4xl font-bold text-cyan-400 mt-2">${lastScoreData.percentage}%</p>
                    <p class="text-gray-300 mt-1 text-xs">(${lastScoreData.score} dari ${lastScoreData.total} soal benar)</p>
                </div>
            </div>`;
    }
}

function resetProgress() {
    showConfirmationModal({
        title: 'Konfirmasi Reset Progres',
        message: 'Apakah Anda yakin ingin mereset semua progres belajar Anda? Aksi ini tidak dapat dibatalkan.',
        confirmText: 'Ya, Reset',
        confirmButtonClass: 'modal-btn-danger',
        confirmAction: () => {
            localStorage.removeItem('userCompletedItems');
            localStorage.removeItem('lastQuizScore');
            showToast("Progres belajar berhasil direset.", "success");
            navigateTo('dashboard', document.querySelector('.sidebar-link'));
        },
        cancelAction: () => {
            showToast("Aksi reset dibatalkan.", "info");
        }
    });
}

function markAsCompleted(itemId) {
    const COMPLETED_KEY = 'userCompletedItems';
    let completed = JSON.parse(localStorage.getItem(COMPLETED_KEY)) || [];
    if (!completed.includes(itemId)) {
        completed.push(itemId);
        localStorage.setItem(COMPLETED_KEY, JSON.stringify(completed));
        showToast("Progres telah dicatat!", "success");
        if (!itemId.startsWith('pas-') && !itemId.startsWith('tka-') && !itemId.startsWith('hots-') && !itemId.startsWith('mots-') && !itemId.startsWith('lots-')) {
             navigateTo('dashboard', document.querySelector('.sidebar-link'));
        }
    } else {
        if (!itemId.startsWith('pas-') && !itemId.startsWith('tka-') && !itemId.startsWith('hots-') && !itemId.startsWith('mots-') && !itemId.startsWith('lots-')) {
            showToast("Item ini sudah selesai.", "info");
        }
    }
}

// =================================================================================
// BAGIAN 5: LOGIKA KUIS
// =================================================================================
let currentQuizData = null;
let currentQuestionIndex = 0;
let userAnswers = [];
let currentExplanationIndex = 0;

function startQuiz(quizId) {
    currentQuizData = allContentData.bankSoal.find(q => q.id === quizId);
    if (!currentQuizData) { showToast('Kuis tidak ditemukan!', 'error'); return; }
    currentQuestionIndex = 0;
    userAnswers = new Array(currentQuizData.questions.length).fill(null);
    renderQuizInterface();
}

function renderQuizInterface() {
    const quiz = currentQuizData;
    const question = quiz.questions[currentQuestionIndex];
    const quizHTML = `<div class="panel max-w-4xl mx-auto"><div class="flex justify-between items-start mb-4"><div><h2 class="text-xl font-bold text-cyan-400">${quiz.title}</h2><p class="text-sm text-gray-400">Pertanyaan ${currentQuestionIndex + 1} dari ${quiz.questions.length}</p></div><button onclick="navigateTo('bank_soal', null)" class="text-xs text-gray-400 hover:text-white">× Tutup</button></div><hr class="border-gray-700 my-4"/><div class="mb-6 min-h-[60px]"><div class="text-lg text-gray-200">${question.questionText}</div></div><div id="quiz-options" class="space-y-3">${question.options.map((opt, index) => `<div id="option-${index}" class="quiz-option p-4 rounded-lg cursor-pointer transition-colors" onclick="selectAnswer('${opt.replace(/'/g, "\\'")}', ${index})">${opt}</div>`).join('')}</div><hr class="border-gray-700 my-6"/><div class="flex justify-end"><button id="next-btn" onclick="submitQuiz()" class="bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-2 px-6 rounded-lg">${currentQuestionIndex === quiz.questions.length - 1 ? 'Selesai & Lihat Hasil' : 'Lanjut'}</button></div></div>`;
    appContent.innerHTML = quizHTML;
    if (window.MathJax) { MathJax.typeset(); }
}

function selectAnswer(answer, optionIndex) {
    userAnswers[currentQuestionIndex] = answer;
    document.querySelectorAll('.quiz-option').forEach(el => el.classList.remove('selected'));
    document.getElementById(`option-${optionIndex}`).classList.add('selected');
}

function submitQuiz() {
    if (userAnswers[currentQuestionIndex] === null) { showToast('Silakan pilih jawaban terlebih dahulu!', 'error'); return; }
    if (currentQuestionIndex < currentQuizData.questions.length - 1) { currentQuestionIndex++; renderQuizInterface(); } else { renderQuizResults(); }
}

function renderQuizResults() {
    const quiz = currentQuizData;
    let score = 0;
    quiz.questions.forEach((q, index) => { if (q.correctAnswer === userAnswers[index]) { score++; } });
    
    markAsCompleted(quiz.id);

    const finalScorePercentage = quiz.questions.length > 0 ? Math.round((score / quiz.questions.length) * 100) : 0;
    const lastScore = {
        title: quiz.title,
        score: score,
        total: quiz.questions.length,
        percentage: finalScorePercentage
    };
    localStorage.setItem('lastQuizScore', JSON.stringify(lastScore));
    
    // PERUBAHAN UTAMA: Layout diubah agar tidak menggunakan .panel gelap
    const resultShellHTML = `
    <div class="max-w-4xl mx-auto">
        <h2 class="text-2xl font-bold text-center mb-2 text-white">${quiz.title}</h2>
        <p class="text-center text-sm text-gray-400 mb-6">Berikut adalah pembahasan dari latihan yang kamu kerjakan.</p>
        
        <div class="text-center my-6 bg-gray-900/50 p-4 rounded-lg border border-gray-700">
             <p class="text-gray-400">Skor Akhir Anda</p>
             <p class="text-5xl font-bold text-cyan-400 mt-2">${finalScorePercentage}%</p>
             <p class="text-gray-300 mt-2">(${score} dari ${quiz.questions.length} soal benar)</p>
        </div>

        <div id="single-explanation-container" class="space-y-4"></div>

        <div class="flex justify-between items-center mt-8 quiz-nav-buttons">
            <button id="prev-explanation-btn" onclick="prevExplanation()" class="nav-btn bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2">
                <i class="fa-solid fa-chevron-left"></i> Sebelumnya
            </button>
            <button onclick="navigateTo('bank_soal', null)" class="bg-cyan-800 hover:bg-cyan-700 text-white text-sm py-2 px-4 rounded-lg">
                Kembali ke Bank Soal
            </button>
            <button id="next-explanation-btn" onclick="nextExplanation()" class="nav-btn bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2">
                Selanjutnya <i class="fa-solid fa-chevron-right"></i>
            </button>
        </div>
    </div>`;

    appContent.innerHTML = resultShellHTML;
    currentExplanationIndex = 0;
    renderSingleExplanation(currentExplanationIndex);
}

function renderSingleExplanation(index) {
    const container = document.getElementById('single-explanation-container');
    const quiz = currentQuizData;
    const q = quiz.questions[index];

    // PERUBAHAN UTAMA: Card pembahasan dibuat lebih terang dan luas
    const explanationHTML = `
    <div class="panel"> <p class="text-sm text-gray-400 mb-4">Pertanyaan ${index + 1} dari ${quiz.questions.length}</p>
        <div class="mb-5 text-gray-200 text-lg">${q.questionText}</div>
        
        <div class="space-y-3 text-base"> <p class="${userAnswers[index] === q.correctAnswer ? 'correct-answer' : 'wrong-answer'} p-3 rounded-lg">
                <span class="font-bold block">Jawaban Anda:</span>
                ${userAnswers[index] || 'Tidak dijawab'}
            </p>
            <p class="correct-answer p-3 rounded-lg">
                <span class="font-bold block">Jawaban Benar:</span>
                ${q.correctAnswer}
            </p>
        </div>

        <hr class="border-gray-700 my-5"/>

        <div>
            <h4 class="font-bold text-lg text-cyan-300 mb-2">Pembahasan:</h4>
            <div class="text-gray-300 leading-relaxed">${q.explanation}</div>
        </div>
    </div>`;
    
    container.innerHTML = explanationHTML;
    document.getElementById('prev-explanation-btn').disabled = (index === 0);
    document.getElementById('next-explanation-btn').disabled = (index === quiz.questions.length - 1);
    
    if (window.MathJax) { 
        MathJax.typesetPromise([container]).catch(function (err) {
            console.log('MathJax error: ', err.message);
        });
    }
}

function nextExplanation() { if (currentExplanationIndex < currentQuizData.questions.length - 1) { currentExplanationIndex++; renderSingleExplanation(currentExplanationIndex); } }
function prevExplanation() { if (currentExplanationIndex > 0) { currentExplanationIndex--; renderSingleExplanation(currentExplanationIndex); } }

// =================================================================================
// BAGIAN 6: FUNGSI GLOBAL & INISIALISASI
// =================================================================================
function initializeApp() {
    const firstLink = document.querySelector('.sidebar-link');
    navigateTo('dashboard', firstLink);

    // KODE BARU: Menampilkan pop-up informasi saat aplikasi pertama kali dimuat
    const WELCOME_POPUP_KEY = 'welcomePopupShown';
    if (!sessionStorage.getItem(WELCOME_POPUP_KEY)) {
        showConfirmationModal({
            title: '🎉 Selamat Datang di UMT Pro!',
            message: 'Mohon maaf, halaman untuk Member Pro saat ini masih dalam tahap pengembangan aktif. Untuk sekarang, kami memberikan akses penuh hanya untuk bagian halaman "Bank Soal" untuk Anda jelajahi. Terima kasih atas pengertiannya!',
            confirmText: 'Tutup',
            showCancelButton: false, // Menyembunyikan tombol batal
            confirmAction: () => {
                // Set item di sessionStorage agar pop-up tidak muncul lagi saat navigasi
                sessionStorage.setItem(WELCOME_POPUP_KEY, 'true');
            }
        });
    }
}

function showToast(message, type = 'info') { const container = document.getElementById('toast-container'); const toast = document.createElement('div'); const icons = { info: 'fa-solid fa-circle-info', success: 'fa-solid fa-check-circle', error: 'fa-solid fa-triangle-exclamation' }; const colors = { info: 'text-cyan-400', success: 'text-green-400', error: 'text-red-400' }; const iconClass = icons[type] || icons['info']; const colorClass = colors[type] || colors['info']; toast.className = 'toast-in flex items-start p-4 rounded-lg shadow-lg text-sm'; toast.style.backgroundColor = 'var(--bg-panel)'; toast.style.border = '1px solid var(--border-color)'; toast.innerHTML = `<div class="flex-shrink-0"><i class="${iconClass} ${colorClass} text-xl"></i></div><div class="ml-3"><p class="font-bold capitalize ${colorClass}">${type}</p><p class="text-gray-300 mt-1">${message}</p></div>`; container.appendChild(toast); setTimeout(() => { toast.classList.remove('toast-in'); toast.classList.add('toast-out'); toast.addEventListener('animationend', () => { toast.remove(); }); }, 5000); }

// =================================================================================
// BAGIAN 7: SISTEM MODAL KUSTOM
// =================================================================================
function showConfirmationModal(options) {
    const {
        title,
        message,
        confirmText = 'Konfirmasi',
        cancelText = 'Batal',
        confirmAction,
        cancelAction,
        showCancelButton = true,
        confirmButtonClass = 'modal-btn-confirm'
    } = options;

    const modalContainer = document.getElementById('modal-container');
    
    const modalHTML = `
        <div class="modal-overlay" id="modal-overlay">
            <div class="modal-box">
                <h3 class="modal-title">${title}</h3>
                <p class="modal-content">${message}</p>
                <div class="modal-buttons">
                    ${showCancelButton ? `<button id="modal-cancel-btn" class="modal-btn modal-btn-cancel">${cancelText}</button>` : ''}
                    <button id="modal-confirm-btn" class="modal-btn ${confirmButtonClass}">${confirmText}</button>
                </div>
            </div>
        </div>
    `;

    modalContainer.innerHTML = modalHTML;
    modalContainer.style.display = 'block';

    const closeModal = () => {
        modalContainer.style.display = 'none';
        modalContainer.innerHTML = '';
    };

    const confirmBtn = document.getElementById('modal-confirm-btn');
    confirmBtn.addEventListener('click', () => {
        if (typeof confirmAction === 'function') {
            confirmAction();
        }
        closeModal();
    });

    if (showCancelButton) {
        const cancelBtn = document.getElementById('modal-cancel-btn');
        cancelBtn.addEventListener('click', () => {
            if (typeof cancelAction === 'function') {
                cancelAction();
            }
            closeModal();
        });
    }

    const overlay = document.getElementById('modal-overlay');
    overlay.addEventListener('click', (event) => {
        if (event.target === overlay && showCancelButton) {
            if (typeof cancelAction === 'function') {
                cancelAction();
            }
            closeModal();
        }
    });
}


// Inisialisasi Aplikasi saat DOM siap
document.addEventListener('DOMContentLoaded', initializeApp);

</script>

</body>
</html>

